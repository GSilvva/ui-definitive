const events=["DOMContentLoaded","scroll","load"];events.forEach(e=>{window.addEventListener(e,()=>{document.querySelectorAll("[data-animate]").forEach(e=>{let t;e.getBoundingClientRect().top<=(window.innerHeight||document.documentElement.clientHeight)/1.1&&e.classList.add("active")})})});const nav=document.querySelector(".nav");events.forEach(e=>{window.addEventListener(e,()=>{document.body.scrollTop>24||document.documentElement.scrollTop>24?nav.classList.add("fixed"):nav.classList.remove("fixed")})});const btnVideo=document.querySelector(".page__header__top__video button"),modalVideo=document.querySelector(".video"),closeVideo=modalVideo.querySelector("button");btnVideo.addEventListener("click",()=>modalVideo.classList.add("open")),closeVideo.addEventListener("click",()=>modalVideo.classList.remove("open"));const buttons=document.querySelectorAll(".button"),modal=document.querySelector(".modal");buttons.forEach(e=>{let t=e.querySelector("div");gsap.set(t,{xPercent:-50,yPercent:-50}),e.addEventListener("mousemove",o=>{let r=e.getBoundingClientRect(),n=o.clientX-r.left,a=o.clientY-r.top;gsap.to(t,{x:n,y:a,duration:.1})}),e.addEventListener("click",()=>modal.classList.add("open"))}),modal.querySelector("[data-close]").addEventListener("click",()=>modal.classList.remove("open")),gsap.registerPlugin(ScrollTrigger);const boxes=gsap.utils.toArray(".page__cases__marquee__images__image"),boxes2=gsap.utils.toArray(".page__emphasis__items__cases__case"),loop=horizontalLoop(boxes,{paused:!1,repeat:-1}),loop2=horizontalLoop(boxes2,{paused:!1,repeat:-1});function horizontalLoop(e,t){e=gsap.utils.toArray(e),t=t||{};let o=gsap.timeline({repeat:t.repeat,paused:t.paused,defaults:{ease:"none"}}),r=e.length,n=e[0].offsetLeft,a=[],s=[],i=[],l=0,d=!1===t.snap?e=>e:gsap.utils.snap(t.snap||1),c,p,u,$,g,m;for(window.addEventListener("scroll",function e(){var t;let r=window.pageYOffset||document.documentElement.scrollTop,n=.05*(t=r);o.seek(n)}),gsap.set(e,{xPercent(e,t){let o=s[e]=parseFloat(gsap.getProperty(t,"width","px"));return i[e]=d(parseFloat(gsap.getProperty(t,"x","px"))/o*100+gsap.getProperty(t,"xPercent")),i[e]}}),gsap.set(e,{x:0}),c=e[r-1].offsetLeft+i[r-1]/100*s[r-1]-n+e[r-1].offsetWidth*gsap.getProperty(e[r-1],"scaleX")+(parseFloat(t.paddingRight)||0),m=0;m<r;m++)g=e[m],p=i[m]/100*s[m],$=(u=g.offsetLeft+p-n)+s[m]*gsap.getProperty(g,"scaleX"),o.to(g,{xPercent:d((p-$)/s[m]*100),duration:$/100},0).fromTo(g,{xPercent:d((p-$+c)/s[m]*100)},{xPercent:i[m],duration:(p-$+c-p)/100,immediateRender:!1},$/100).add("label"+m,u/100),a[m]=u/100;function v(e,t){t=t||{},Math.abs(e-l)>r/2&&(e+=e>l?-r:r);let n=gsap.utils.wrap(0,r,e),s=a[n];return s>o.time()!=e>l&&(t.modifiers={time:gsap.utils.wrap(0,o.duration())},s+=o.duration()*(e>l?1:-1)),l=n,t.overwrite=!0,o.tweenTo(s,t)}return o.next=e=>v(l+1,e),o.previous=e=>v(l-1,e),o.current=()=>l,o.toIndex=(e,t)=>v(e,t),o.times=a,o.progress(1,!0).progress(0,!0),t.reversed&&(o.vars.onReverseComplete(),o.reverse()),o}const exps=document.querySelectorAll("dt");exps.forEach(e=>{e.addEventListener("click",e=>{e.currentTarget.classList.toggle("open"),e.currentTarget.nextElementSibling?.classList.toggle("open")})}),gsap.to("[data-balloon]",{y:"+=200",scrollTrigger:{trigger:".page__features",scrub:!0}});const linesTitle=document.querySelectorAll("[data-title] p");function AnimationTitles(e,t){let o=gsap.utils.toArray(t),r=gsap.timeline({scrollTrigger:{trigger:e,start:"top 80%",end:"bottom 30%",scrub:!0,markers:!1}});o.forEach(e=>{r.to(e,{width:0,duration:1,scrub:!0,ease:"power2.easeIn"})})}linesTitle.forEach(e=>e.innerHTML+="<div></div>"),AnimationTitles("[data-title]","[data-title] div"),new Swiper(".page__questions .swiper",{effect:"fade",navigation:{prevEl:".page__questions [data-prev]",nextEl:".page__questions [data-next]"},pagination:{el:".page__questions [data-pagination]",clickable:!0}});const btnTop=document.querySelector("[data-top]");btnTop.addEventListener("click",()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0});